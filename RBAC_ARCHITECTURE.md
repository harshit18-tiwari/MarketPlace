# ğŸ—ºï¸ RBAC System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER REGISTRATION/LOGIN                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   Select Role During  â”‚
                          â”‚    Registration       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                   â”‚
                    â–¼                                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   BUYER ROLE    â”‚                â”‚  SELLER ROLE    â”‚
          â”‚   (Default)     â”‚                â”‚  (Marketplace)  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                   â”‚
                    â”‚                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   â”‚   â”‚                                  â”‚
â”‚  BUYER DASHBOARD & FEATURES       â”‚   â”‚  SELLER DASHBOARD & FEATURES     â”‚
â”‚                                   â”‚   â”‚                                  â”‚
â”‚  âœ… /shop (Browse Products)       â”‚   â”‚  âœ… /seller/dashboard (Stats)    â”‚
â”‚  âœ… /cart (Shopping Cart)         â”‚   â”‚  âœ… /seller/products (Inventory) â”‚
â”‚  âœ… /orders (Purchase History)    â”‚   â”‚  âœ… /seller/orders (Sales)       â”‚
â”‚  âœ… /rent (Rental Products)       â”‚   â”‚  âœ… /seller/products/create      â”‚
â”‚  âœ… /profile (Account Settings)   â”‚   â”‚  âœ… /profile (Account Settings)  â”‚
â”‚                                   â”‚   â”‚                                  â”‚
â”‚  âŒ /seller/* (Blocked)           â”‚   â”‚  âŒ /shop (Blocked)              â”‚
â”‚  âŒ Cannot create products        â”‚   â”‚  âŒ /cart (Blocked)              â”‚
â”‚                                   â”‚   â”‚  âŒ /orders (Blocked)            â”‚
â”‚                                   â”‚   â”‚  âŒ Cannot place orders          â”‚
â”‚                                   â”‚   â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Request Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLIENT  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  REACT ROUTE â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  ROUTE GUARD  â”‚
â”‚  (User)  â”‚         â”‚   MATCHING   â”‚         â”‚  (AuthCheck)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                                     â”‚
                                    â–¼                                     â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Authenticated?  â”‚              â”‚  Authenticated?  â”‚
                          â”‚      YES         â”‚              â”‚       NO         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                                     â”‚
                                    â”‚                                     â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
                          â”‚                   â”‚                          â”‚
                          â–¼                   â–¼                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Buyer?  â”‚      â”‚ Seller?  â”‚            â”‚ Redirect to      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ /login           â”‚
                          â”‚                   â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                   â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                  â”‚  â”‚                    â”‚
              â–¼                  â–¼  â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Buyer Route?     â”‚  â”‚ Seller Route?    â”‚  â”‚ Shared Route?    â”‚
    â”‚ Allow Access âœ…  â”‚  â”‚ Allow Access âœ…  â”‚  â”‚ Allow Access âœ…  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                     â”‚                     â”‚
              â”‚                     â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚ Seller Route?  â”‚   â”‚ Buyer Route?       â”‚  â”‚ Render Page â”‚
    â”‚ Redirect to    â”‚   â”‚ Redirect to        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ /seller/dash   â”‚   â”‚ /shop              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Backend API Protection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Request â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate JWT Token    â”‚
â”‚  (protect middleware)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€ Invalid Token â”€â”€â”€â”€â–¶ 401 Unauthorized
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Extract User from DB  â”‚
â”‚  (req.user = User)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check User Role       â”‚
â”‚  (authorize middleware)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€ Wrong Role â”€â”€â”€â”€â–¶ 403 Forbidden
        â”‚                     "User role 'buyer' is not authorized"
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller Logic      â”‚
â”‚  (Additional Checks)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Execute Business      â”‚
â”‚  Logic & Return Data   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›£ï¸ Route Architecture

```
App.jsx (Wrapped in AuthProvider)
â”‚
â”œâ”€ PublicRoute
â”‚  â”œâ”€ /                    â†’ Home (redirects if logged in)
â”‚  â”œâ”€ /login               â†’ Login (redirects if logged in)
â”‚  â””â”€ /register            â†’ Register (redirects if logged in)
â”‚
â”œâ”€ BuyerRoute (Buyer Only)
â”‚  â”œâ”€ /shop                â†’ Shop
â”‚  â”œâ”€ /cart                â†’ Cart
â”‚  â”œâ”€ /orders              â†’ My Orders
â”‚  â””â”€ /rent                â†’ Rent
â”‚
â”œâ”€ SellerRoute (Seller/Admin Only)
â”‚  â”œâ”€ /seller/dashboard            â†’ Dashboard
â”‚  â”œâ”€ /seller/products             â†’ Product List
â”‚  â”œâ”€ /seller/products/create      â†’ Create Product
â”‚  â”œâ”€ /seller/products/edit/:id    â†’ Edit Product
â”‚  â””â”€ /seller/orders               â†’ Seller Orders
â”‚
â””â”€ ProtectedRoute (Any Authenticated User)
   â”œâ”€ /profile             â†’ User Profile
   â”œâ”€ /products            â†’ All Products List
   â”œâ”€ /product/:id         â†’ Product Details
   â””â”€ /settings            â†’ Settings
```

## ğŸ“¡ API Endpoint Architecture

```
/api/auth
â”œâ”€ POST /register          â†’ Public
â””â”€ POST /login             â†’ Public

/api/products
â”œâ”€ GET /                   â†’ Public (Browse)
â”œâ”€ GET /:id                â†’ Public (View Details)
â”œâ”€ POST /                  â†’ Seller/Admin Only âš ï¸
â”œâ”€ PUT /:id                â†’ Seller/Admin Only âš ï¸
â””â”€ DELETE /:id             â†’ Seller/Admin Only âš ï¸

/api/orders
â”œâ”€ POST /                  â†’ Buyer Only âš ï¸
â”œâ”€ GET /my                 â†’ Buyer Only âš ï¸
â”œâ”€ GET /                   â†’ Admin Only âš ï¸
â”œâ”€ GET /:id                â†’ Authenticated
â””â”€ PUT /:id/status         â†’ Admin Only âš ï¸

/api/orders/razorpay
â”œâ”€ POST /create            â†’ Buyer Only âš ï¸
â”œâ”€ POST /verify            â†’ Buyer Only âš ï¸
â””â”€ GET /key                â†’ Public
```

## ğŸ­ Component Hierarchy

```
App
â”œâ”€ AuthProvider (Context)
â”‚  â”‚
â”‚  â”œâ”€ Router
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Layout
â”‚  â”‚  â”‚  â”œâ”€ Navbar (Role-aware)
â”‚  â”‚  â”‚  â”œâ”€ Routes
â”‚  â”‚  â”‚  â”‚  â”œâ”€ PublicRoute
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Home
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Login
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Register
â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ BuyerRoute
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Shop
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Cart
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ MyOrders
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Rent
â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ SellerRoute
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ SellerDashboard
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ SellerProducts
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ SellerOrders
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ CreateProduct
â”‚  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ ProtectedRoute
â”‚  â”‚  â”‚  â”‚     â”œâ”€ Profile
â”‚  â”‚  â”‚  â”‚     â”œâ”€ ProductList
â”‚  â”‚  â”‚  â”‚     â””â”€ ProductDetails
â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Footer
```

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AuthContext                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  State:                                                â”‚  â”‚
â”‚  â”‚  â€¢ user (User object or null)                         â”‚  â”‚
â”‚  â”‚  â€¢ loading (Boolean)                                   â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  Methods:                                              â”‚  â”‚
â”‚  â”‚  â€¢ login(userData) â†’ Sets user, stores in localStorageâ”‚  â”‚
â”‚  â”‚  â€¢ logout() â†’ Clears user, removes from localStorage  â”‚  â”‚
â”‚  â”‚  â€¢ isBuyer() â†’ Returns true if role === 'buyer'       â”‚  â”‚
â”‚  â”‚  â€¢ isSeller() â†’ Returns true if role === 'seller/admin'â”‚  â”‚
â”‚  â”‚  â€¢ isAdmin() â†’ Returns true if role === 'admin'       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ useAuth() hook
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Components                                â”‚
â”‚  â€¢ Navbar (Shows role-specific links)                       â”‚
â”‚  â€¢ Route Guards (Protect routes)                            â”‚
â”‚  â€¢ Pages (Render based on role)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Key Decision Points

```
User logs in
    â”‚
    â–¼
Is authenticated?
    â”‚
    â”œâ”€â”€ NO â”€â”€â–¶ Redirect to /login
    â”‚
    â””â”€â”€ YES
         â”‚
         â–¼
    What is role?
         â”‚
         â”œâ”€â”€ Buyer â”€â”€â–¶ Redirect to /shop
         â”‚              Can access: Shop, Cart, Orders
         â”‚              Cannot access: Seller Dashboard
         â”‚
         â””â”€â”€ Seller â”€â–¶ Redirect to /seller/dashboard
                        Can access: Dashboard, Products, Orders
                        Cannot access: Shop, Cart

User tries to access route
    â”‚
    â–¼
Route requires auth?
    â”‚
    â”œâ”€â”€ NO â”€â”€â–¶ Allow access (Public route)
    â”‚
    â””â”€â”€ YES
         â”‚
         â–¼
    Is authenticated?
         â”‚
         â”œâ”€â”€ NO â”€â”€â–¶ Redirect to /login
         â”‚
         â””â”€â”€ YES
              â”‚
              â–¼
         Role matches?
              â”‚
              â”œâ”€â”€ YES â”€â”€â–¶ Allow access
              â”‚
              â””â”€â”€ NO â”€â”€â–¶ Redirect to appropriate dashboard
```

---

This architecture ensures:
- âœ… **Security**: Multi-layer protection
- âœ… **Clarity**: Clear separation of concerns
- âœ… **Scalability**: Easy to add new roles/permissions
- âœ… **Maintainability**: Well-organized and documented
